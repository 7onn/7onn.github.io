<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=theme-color content="dark"><title>GPG encryption and how to use it | üìúüßô‚Äç‚ôÇÔ∏è tom's blog</title><link rel=stylesheet href=/sass/main.min.b81b77bfef641cdef5a77f4a7bb221547def6cea9b73ab29b5fed4c98707f2a8.css></head><body class=dark><nav class=navbar><div class=container><div class=flex><div><a class=brand href=/>üìúüßô‚Äç‚ôÇÔ∏è tom's blog</a></div><div class=flex><a href=/about/>About</a>
<a href=/>Blog</a>
<button id=dark-mode-button></button></div></div></div></nav><main><div class=container><article><header class=article-header><div class=thumb><div><h1>GPG encryption and how to use it</h1><div class=post-meta><div>By Tom M G on <time>January 09, 2024</time></div><div class=tags><a href=/tags/engineering/>engineering</a>
<a href=/tags/encryption/>encryption</a>
<a href=/tags/gpg/>gpg</a>
<a href=/tags/pgp/>pgp</a>
<a href=/tags/privacy/>privacy</a></div></div></div></div></header></article><div class=article-post><h2 id=intro>Intro</h2><p>GPG, which stands for GNU Privacy Guard, is an open source implementation of the <a href=https://en.wikipedia.org/wiki/Pretty_Good_Privacy>Pretty Good Privacy (PGP)</a> encryption standard. In this article, we&rsquo;ll focus on asymmetric encryption, where we use a set of two keys, one public to encrypt, and one private that only itself can decrypt the encrypted content.</p><h2 id=creating-a-gpg-key>Creating a GPG key</h2><h3 id=generate-your-key-pair>Generate your key pair</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ gpg --full-generate-key
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>gpg <span class=o>(</span>GnuPG<span class=o>)</span> 2.4.3<span class=p>;</span> Copyright <span class=o>(</span>C<span class=o>)</span> <span class=m>2023</span> g10 Code GmbH
</span></span><span class=line><span class=cl>This is free software: you are free to change and redistribute it.
</span></span><span class=line><span class=cl>There is NO WARRANTY, to the extent permitted by law.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Please <span class=k>select</span> what kind of key you want:
</span></span><span class=line><span class=cl>   <span class=o>(</span>1<span class=o>)</span> RSA and RSA
</span></span><span class=line><span class=cl>   <span class=o>(</span>2<span class=o>)</span> DSA and Elgamal
</span></span><span class=line><span class=cl>   <span class=o>(</span>3<span class=o>)</span> DSA <span class=o>(</span>sign only<span class=o>)</span>
</span></span><span class=line><span class=cl>   <span class=o>(</span>4<span class=o>)</span> RSA <span class=o>(</span>sign only<span class=o>)</span>
</span></span><span class=line><span class=cl>   <span class=o>(</span>9<span class=o>)</span> ECC <span class=o>(</span>sign and encrypt<span class=o>)</span> *default*
</span></span><span class=line><span class=cl>  <span class=o>(</span>10<span class=o>)</span> ECC <span class=o>(</span>sign only<span class=o>)</span>
</span></span><span class=line><span class=cl>  <span class=o>(</span>14<span class=o>)</span> Existing key from card
</span></span><span class=line><span class=cl>Your selection? <span class=m>1</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>RSA keys may be between <span class=m>1024</span> and <span class=m>4096</span> bits long.
</span></span><span class=line><span class=cl>What keysize <span class=k>do</span> you want? <span class=o>(</span>3072<span class=o>)</span> <span class=m>4096</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Requested keysize is <span class=m>4096</span> bits
</span></span><span class=line><span class=cl>Please specify how long the key should be valid.
</span></span><span class=line><span class=cl>         <span class=nv>0</span> <span class=o>=</span> key does not expire
</span></span><span class=line><span class=cl>      &lt;n&gt;  <span class=o>=</span> key expires in n days
</span></span><span class=line><span class=cl>      &lt;n&gt;w <span class=o>=</span> key expires in n weeks
</span></span><span class=line><span class=cl>      &lt;n&gt;m <span class=o>=</span> key expires in n months
</span></span><span class=line><span class=cl>      &lt;n&gt;y <span class=o>=</span> key expires in n years
</span></span><span class=line><span class=cl>Key is valid <span class=k>for</span>? <span class=o>(</span>0<span class=o>)</span> <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Key does not expire at all
</span></span><span class=line><span class=cl>Is this correct? <span class=o>(</span>y/N<span class=o>)</span> y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>GnuPG needs to construct a user ID to identify your key.
</span></span><span class=line><span class=cl>Real name: John Doe
</span></span><span class=line><span class=cl>Email address: john.doe@somewhere.com
</span></span><span class=line><span class=cl>Comment: Personal encryption and signing GPG key
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>You selected this USER-ID:
</span></span><span class=line><span class=cl>    <span class=s2>&#34;John Doe (Personal encryption and signing GPG key) &lt;john.doe@somewhere.com&gt;&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Change <span class=o>(</span>N<span class=o>)</span>ame, <span class=o>(</span>C<span class=o>)</span>omment, <span class=o>(</span>E<span class=o>)</span>mail or <span class=o>(</span>O<span class=o>)</span>kay/<span class=o>(</span>Q<span class=o>)</span>uit? O
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># One optional password will be prompted for the encryption key</span>
</span></span><span class=line><span class=cl>We need to generate a lot of random bytes. It is a good idea to perform
</span></span><span class=line><span class=cl>some other action <span class=o>(</span><span class=nb>type</span> on the keyboard, move the mouse, utilize the
</span></span><span class=line><span class=cl>disks<span class=o>)</span> during the prime generation<span class=p>;</span> this gives the random number
</span></span><span class=line><span class=cl>generator a better chance to gain enough entropy.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># One optional password will be prompted for the signing key</span>
</span></span><span class=line><span class=cl>We need to generate a lot of random bytes. It is a good idea to perform
</span></span><span class=line><span class=cl>some other action <span class=o>(</span><span class=nb>type</span> on the keyboard, move the mouse, utilize the
</span></span><span class=line><span class=cl>disks<span class=o>)</span> during the prime generation<span class=p>;</span> this gives the random number
</span></span><span class=line><span class=cl>generator a better chance to gain enough entropy.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>gpg: revocation certificate stored as <span class=s1>&#39;~/.gnupg/openpgp-revocs.d/C49BCFA8706203B8A03BF3A22EC378BC8416920D.rev&#39;</span>
</span></span><span class=line><span class=cl>public and secret key created and signed.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>pub   rsa4096 2024-01-10 <span class=o>[</span>SC<span class=o>]</span>
</span></span><span class=line><span class=cl>      C49BCFA8706203B8A03BF3A22EC378BC8416920D
</span></span><span class=line><span class=cl>uid                      John Doe <span class=o>(</span>Personal encryption and signing GPG key<span class=o>)</span> &lt;john.doe@somewhere.com&gt;
</span></span><span class=line><span class=cl>sub   rsa4096 2024-01-10 <span class=o>[</span>E<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=check-for-your-key-pair>Check for your key pair</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ gpg --list-signatures
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>~/.gnupg/pubring.kbx
</span></span><span class=line><span class=cl>-----------------------------
</span></span><span class=line><span class=cl>pub   rsa4096 2024-01-10 <span class=o>[</span>SC<span class=o>]</span>
</span></span><span class=line><span class=cl>      C49BCFA8706203B8A03BF3A22EC378BC8416920D
</span></span><span class=line><span class=cl>uid           <span class=o>[</span>ultimate<span class=o>]</span> John Doe <span class=o>(</span>Personal encryption and signing GPG key<span class=o>)</span> &lt;john.doe@somewhere.com&gt;
</span></span><span class=line><span class=cl>sig <span class=m>3</span>        2EC378BC8416920D 2024-01-10  <span class=o>[</span>self-signature<span class=o>]</span>
</span></span><span class=line><span class=cl>sub   rsa4096 2024-01-10 <span class=o>[</span>E<span class=o>]</span>
</span></span><span class=line><span class=cl>sig          2EC378BC8416920D 2024-01-10  <span class=o>[</span>self-signature<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=export-your-key-pair>Export your key pair</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># Public key</span>
</span></span><span class=line><span class=cl>$ gpg --armor --export 2EC378BC8416920D &gt; john_doe_public_gpg_key.asc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Private key</span>
</span></span><span class=line><span class=cl>$ gpg --armor --export-secret-keys 2EC378BC8416920D &gt; john_doe_private_gpg_key.asc
</span></span></code></pre></td></tr></table></div></div><h3 id=remove-keys>Remove keys</h3><p>Now that we have the key pair, let&rsquo;s store it somewhere safe and let&rsquo;s remove the keys to pretend we are importing someone else&rsquo;s key to encrypt something for them.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ gpg --delete-keys 2EC378BC8416920D
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>pub  rsa4096/2EC378BC8416920D 2024-01-10 John Doe <span class=o>(</span>Personal encryption and signing GPG key<span class=o>)</span> &lt;john.doe@somewhere.com&gt;
</span></span><span class=line><span class=cl>Delete this key from the keyring? <span class=o>(</span>y/N<span class=o>)</span> y
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ gpg --delete-secret-keys 2EC378BC8416920D
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>sec  rsa4096/2EC378BC8416920D 2024-01-10 John Doe <span class=o>(</span>Personal encryption and signing GPG key<span class=o>)</span> &lt;john.doe@somewhere.com&gt;
</span></span><span class=line><span class=cl>Delete this key from the keyring? <span class=o>(</span>y/N<span class=o>)</span> y
</span></span><span class=line><span class=cl>This is a secret key! - really delete? <span class=o>(</span>y/N<span class=o>)</span> y
</span></span></code></pre></td></tr></table></div></div><h3 id=import-public-keys>Import public keys</h3><p>Let&rsquo;s say you want to send to John Doe something that only they can read. You would import their public key like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ gpg --import john_doe_public_gpg_key.asc
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>gpg: key 2EC378BC8416920D: public key <span class=s2>&#34;John Doe (Personal encryption and signing GPG key) &lt;john.doe@somewhere.com&gt;&#34;</span> imported
</span></span><span class=line><span class=cl>gpg: Total number processed: <span class=m>1</span>
</span></span><span class=line><span class=cl>gpg:               imported: <span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=encrypt>Encrypt</h3><p>With the public key available, you can encrypt some content as follows:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ <span class=nb>echo</span> <span class=s2>&#34;my secret message&#34;</span> &gt; not_so_secret_message.txt
</span></span><span class=line><span class=cl>$ gpg --encrypt --recipient 2EC378BC8416920D --output secret_message.txt.asc not_so_secret_message.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Check for the encrypted content</span>
</span></span><span class=line><span class=cl>$ cat secret_message.txt.asc
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
</span></span><span class=line><span class=cl>       ‚îÇ File: secret_message.txt.asc
</span></span><span class=line><span class=cl>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
</span></span><span class=line><span class=cl>   <span class=m>1</span>   ‚îÇ ÔøΩ^B^L^C^L&gt;ÔøΩ
</span></span><span class=line><span class=cl>   <span class=m>2</span>   ‚îÇ ÔøΩÔøΩ—ø^A^P^@ÔøΩÔøΩ9<span class=o>=</span>^SJÔøΩ    ^XÔøΩ-ÔøΩÔøΩ^Y^ZÔøΩÔøΩÔøΩsÔøΩÔøΩv<span class=o>[</span>ÔøΩxÔøΩ^GÔøΩ^OutI<span class=o>)</span>rxÔøΩÔøΩÔøΩÔøΩÔøΩnÔøΩÔøΩœàHZIÔøΩÔøΩÔøΩÔøΩÔøΩL^WÔøΩp eÔøΩÔøΩÔøΩKyz^SÔøΩÔøΩ<span class=p>&amp;</span>ÔøΩÔøΩ^Y?ÔøΩÔøΩ9ÔøΩ◊®PÔøΩÔøΩSÔøΩÔøΩ›à^mÔøΩisÔøΩ&lt;ÔøΩBÔøΩÔøΩÔøΩq~^UÔøΩÔøΩÔøΩÔøΩw^Nÿ®ÔøΩ:^MÔøΩÔøΩÔøΩÔøΩc<span class=o>]</span>ÔøΩÔøΩ<span class=o>[</span>LÔøΩ^?<span class=se>\ÔøΩ</span>5ÔøΩIÔøΩ^ZÔøΩQ<span class=s1>&#39;ÔøΩ^VÔøΩÔøΩÔøΩÔøΩ^WÔøΩ^@+ÔøΩNÔøΩ0ÔøΩXFÔøΩﬁúﬂãuÔøΩ›ª5ÔøΩ,ÔøΩX9@ÔøΩÔøΩ    ÔøΩÔøΩÔøΩ$ÔøΩ^KÔøΩrÔøΩ   ÔøΩÔøΩÔøΩNÔøΩ&amp;ÔøΩÔøΩ}ÔøΩ
</span></span></span><span class=line><span class=cl><span class=s1>       ‚îÇ ÔøΩbÔøΩ^Wk÷ø#bXQpÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ^G^ÔøΩÔøΩVNÔøΩ^U}(^RoÔøΩm^KÔøΩÔøΩ^Y^BÔøΩÔøΩrÔøΩOy`ÔøΩÔøΩ^GÔøΩsÔøΩÔøΩÔøΩ&gt;ÔøΩmÔøΩ$^RÔøΩU%^^^ZÔøΩ^]—•{ÔøΩÔøΩÔøΩ}ÔøΩÔøΩOÔøΩÔøΩÔøΩt^QCIÔøΩ-ÔøΩÔøΩ]tÔøΩÔøΩÔøΩÔøΩ4vÔøΩDÔøΩÔøΩ7ÔøΩÔøΩÔøΩ^FÔøΩ}):YÔøΩ-^Y_ÔøΩÔøΩ^@ÔøΩ€øX^WÔøΩ^USÔøΩ^BÔøΩÔøΩ^^^ZÔøΩYÔøΩÔøΩÔøΩNÔøΩÔøΩ&lt;ÔøΩN!ÔøΩ3ÔøΩ^]ÔøΩ^RÔøΩ_G^XetÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ0^T^N^]^UH^E^?ÔøΩhÔøΩyiBÔøΩ
</span></span></span><span class=line><span class=cl><span class=s1>   3   ‚îÇ hÔøΩc$Õ§bÔøΩ^BI–çÔøΩÔøΩ^XÔøΩ4ÔøΩÔøΩ^@ÔøΩ&gt;gÔøΩVÔøΩÔøΩÔøΩÔøΩ+=ÔøΩ*^]ÔøΩÔøΩ|ÔøΩÔøΩWQÔøΩxÔøΩÔøΩ^FlÔøΩÔøΩ7ÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩqÔøΩ^KQÔøΩ?ÔøΩ#ÔøΩÔøΩÔøΩÔøΩbf^PP ÔøΩÔøΩdÔøΩÔøΩ%ÔøΩÕÄu^ZÔøΩ1ÔøΩN^BÔøΩhÔøΩwe^YÔøΩ^@,^A^^iAÔøΩ$ÔøΩÔøΩpÔøΩ  T&#39;</span>ÔøΩk9ÔøΩaÔøΩ$ÔøΩÔøΩK^_ÔøΩÔøΩ<span class=se>\H</span>ÔøΩÔøΩ<span class=o>[</span>^U‘ì^A  ^B^PÔøΩÔøΩuÃÄ yÔøΩÔøΩ^NÔøΩÔøΩÔøΩÔøΩÔøΩÔøΩ4R5ÔøΩÔøΩ$<span class=se>\y</span>ÔøΩÔøΩÔøΩUÔøΩÔøΩpÔøΩÔøΩVÔøΩ^VÔøΩÔøΩÔøΩbC<span class=o>}</span>.ÔøΩjÔøΩi<span class=sb>`</span>ÔøΩÔøΩ^BÔøΩÔøΩ^PbÔøΩÔøΩ^L^@ÔøΩƒ™
</span></span><span class=line><span class=cl>   <span class=m>4</span>   ‚îÇ ÔøΩ2ÔøΩ5ÔøΩÔøΩNÔøΩÔøΩOÔøΩ<span class=p>;</span>ÔøΩ<span class=o>[</span>«Üi<span class=o>]</span>^DfÔøΩ^~ÔøΩW^D6W^OÔøΩ∆îQÔøΩÔøΩ’≠AlÔøΩ^TÔøΩEÔøΩÔøΩQ^CÔøΩ^<span class=o>]</span><span class=sb>`</span>ÔøΩÔøΩÔøΩÔøΩ~ÔøΩ^XÔøΩ‘ΩÔøΩÔøΩÔøΩ^ÔøΩZqÔøΩ^QÔøΩÔøΩKÀêBÔøΩ
</span></span><span class=line><span class=cl>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
</span></span></code></pre></td></tr></table></div></div><p>Now, you can share the encrypted content with John Doe. Now imagine that they want to decrypt the message from a new computer and they would need to import their private key. They would do it like:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ gpg --import john_doe_private_gpg_key.asc
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>gpg: key 2EC378BC8416920D: <span class=s2>&#34;John Doe (Personal encryption and signing GPG key) &lt;john.doe@somewhere.com&gt;&#34;</span> not changed
</span></span><span class=line><span class=cl>gpg: key 2EC378BC8416920D: secret key imported
</span></span><span class=line><span class=cl>gpg: Total number processed: <span class=m>1</span>
</span></span><span class=line><span class=cl>gpg:              unchanged: <span class=m>1</span>
</span></span><span class=line><span class=cl>gpg:       secret keys read: <span class=m>1</span>
</span></span><span class=line><span class=cl>gpg:   secret keys imported: <span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div><p>Once the secret key is on the keychain, the decryption can be done as follows:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>$ gpg --decrypt --output decrypted_message.txt secret_message.txt.asc
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># See the original content</span>
</span></span><span class=line><span class=cl>$ cat decrypted_message.txt
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
</span></span><span class=line><span class=cl>       ‚îÇ File: decrypted_message.txt
</span></span><span class=line><span class=cl>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
</span></span><span class=line><span class=cl>   <span class=m>1</span>   ‚îÇ my secret message
</span></span><span class=line><span class=cl>‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
</span></span></code></pre></td></tr></table></div></div><h2 id=using-gpg-as-a-security-measure>Using GPG as a security measure</h2><p>Besides playing around with encrypted messages, GPG is used in another immensely useful feature in the routine of a software engineer or anyone using GitHub.</p><p>Let&rsquo;s look at an example of its capabilities. In GitHub, you can <a href=https://github.com/settings/keys>store your public key</a> and then use <code>~/.gitconfig</code> to specify which private key should be used to sign the commit.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-toml data-lang=toml><span class=line><span class=cl><span class=c># ~/.gitconfig</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>user</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>email</span> <span class=p>=</span> <span class=nx>john</span><span class=p>.</span><span class=nx>doe</span><span class=err>@</span><span class=nx>somewhere</span><span class=p>.</span><span class=nx>com</span>
</span></span><span class=line><span class=cl>    <span class=nx>name</span> <span class=p>=</span> <span class=nx>John</span> <span class=nx>Doe</span>
</span></span><span class=line><span class=cl>    <span class=nx>signingkey</span> <span class=p>=</span> <span class=mi>0</span><span class=nx>x2EC378BC8416920D</span>
</span></span><span class=line><span class=cl><span class=p>[</span><span class=nx>commit</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=nx>gpgsign</span> <span class=p>=</span> <span class=nx>True</span>
</span></span></code></pre></td></tr></table></div></div><p>This local git configuration plus the <code>Flag unsigned commits as unverified</code> checked in the <a href=https://github.com/settings/keys>aforementioned feature</a> would display a <code>Verified</code> badge in all of your signed commits while making commits you did not sign <code>Unverified</code>. Such a feature would e.g. prevent <a href=https://github.com/jayphelps/git-blame-someone-else>git-blame-someone-else</a> from being used against you like it was with Linus Torvalds ü§¶</p><h3 id=an-extra-mile>An extra mile</h3><p>GPG keys (and SSH keys too) can be stored on smart cards like a <a href=https://support.yubico.com/hc/en-us/articles/360013790259-Using-Your-YubiKey-with-OpenPGP>Yubikey</a>. This adds an extra layer of security by preventing the use of a file that can be stolen by some malware on your computer.</p><h2 id=conclusion>Conclusion</h2><ul><li>You should set a password for your keys<ul><li>This ensures that even if the file is stolen, people pretending to be you won&rsquo;t be able to decrypt or sign anything on your behalf</li></ul></li><li>You should have a right to privacy</li><li>Better safe than sorry</li></ul><p>If you liked this article, import my <a href=https://www.7onn.dev/tom.asc>public GPG key</a> and send me some encrypted message &lt;3</p></div></div><div class=container><nav class="flex container suggested"><a rel=prev href=/post/efficiency-and-performance/ title="Previous post (older)"><span>Previous</span>
Efficiency and performance</a></nav></div></main></main><footer class="footer flex"><section class=container><nav class=footer-links><a href=/tom.asc>PGP</a>
<a href=/index.xml>RSS</a></nav></section><script async src=/js/features.min.fdb064613b89cfdaaa43fcf86c021408578dd158cf0accad7cc50e1913005d12.js></script></footer></body></html>